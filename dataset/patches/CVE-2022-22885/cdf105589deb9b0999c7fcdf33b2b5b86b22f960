From cdf105589deb9b0999c7fcdf33b2b5b86b22f960 Mon Sep 17 00:00:00 2001
From: looly <loolly@gmail.com>
Date: Wed, 5 Jan 2022 11:10:37 +0800
Subject: [PATCH] fix bug

---
 CHANGELOG.md                                              | 3 ++-
 hutool-http/src/main/java/cn/hutool/http/HttpRequest.java | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 3fec05bdef..9fe6cf93ec 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -3,7 +3,7 @@
 
 -------------------------------------------------------------------------------------------------------------
 
-# 5.7.19 (2022-01-04)
+# 5.7.19 (2022-01-05)
 
 ### 🐣新特性
 * 【db     】     优化Condition参数拆分（pr#2046@Github）
@@ -19,6 +19,7 @@
 * 【core   】     修复ServletUtil写出文件时未添加双引号导致逗号等特殊符号引起的问题（issue#I4P1BF@Gitee）
 * 【core   】     NumberUtil增加equals重载解决long传入判断问题（pr#2064@Github）
 * 【core   】     修复CsvParser行号有误问题（pr#2065@Github）
+* 【http   】     修复HttpRequest.of无法自动添加http前缀问题（issue#I4PEYL@Gitee）
 
 -------------------------------------------------------------------------------------------------------------
 # 5.7.18 (2021-12-25)
diff --git a/hutool-http/src/main/java/cn/hutool/http/HttpRequest.java b/hutool-http/src/main/java/cn/hutool/http/HttpRequest.java
index b971c60e20..7c7a68e35a 100644
--- a/hutool-http/src/main/java/cn/hutool/http/HttpRequest.java
+++ b/hutool-http/src/main/java/cn/hutool/http/HttpRequest.java
@@ -148,7 +148,7 @@ public static HttpRequest of(String url) {
 	 * @since 5.7.18
 	 */
 	public static HttpRequest of(String url, Charset charset) {
-		return new HttpRequest(UrlBuilder.of(url, charset));
+		return new HttpRequest(UrlBuilder.ofHttp(url, charset));
 	}
 
 	/**
